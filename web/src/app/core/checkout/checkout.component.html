<div class="wrapper">
  <div class="section">
    <div class="container">
      <div class="row pt-5">
        <div class="col-lg-12 col-sm-12 mx-auto">
          <div class="card" style="background-color: #ffffff">
            <div class="card-body">
              <h3 class="title text-dark m-3">
                {{ "DaftarKeluar" | translate }}
              </h3>
              <!-- <div class="text-center">
                <img
                  src="../../../assets/icon/tickets.svg"
                  style="width: 50%"
                />
              </div> -->

              <div class="table-responsive">
                <table class="table" style="border: 1px solid gainsboro">
                  <thead>
                    <tr>
                      <td></td>
                      <td class="text-dark">Item</td>
                      <td class="text-dark text-center">
                        {{ "Kuantiti" | translate }}
                      </td>
                      <td class="text-dark text-center">
                        {{ "JumlahHarga" | translate }}
                      </td>
                      <td class="text-dark text-center">
                        {{ "Tindakan" | translate }}
                      </td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let cart of carts; let i = index">
                      <td class="text-dark text-center">{{ i + 1 }}</td>
                      <td>
                        <!-- Booking Detail -->
                        <div
                          class="row"
                          *ngIf="summarycarts[i][0].type == 'showing'"
                        >
                          <div class="col-auto">
                            <img
                              class="img-fluid rounded shadow-lg"
                              [src]="summarycarts[i][0].showing_poster_link"
                              style="width: 100px"
                              *ngIf="summarycarts[i][0].showing_poster_link"
                            />
                          </div>
                          <div class="col-auto">
                            <h5
                              *ngIf="summarycarts[i][0].type == 'showing'"
                              class="title text-dark mt-0 mb-3"
                            >
                              <span *ngIf="translate.currentLang == 'en'"
                                >{{ summarycarts[i][0].showing_title_en }},
                                {{ summarycarts[i][0].showtime_show_date }},
                                {{ summarycarts[i][0].showtime_show_time }} ({{
                                  summarycarts[i][0].showing_duration_hours
                                }}
                                hour
                                {{
                                  summarycarts[i][0].showing_duration_minutes
                                }}
                                minutes)</span
                              >
                              <span *ngIf="translate.currentLang == 'ms'"
                                >{{ summarycarts[i][0].showing_title_ms }},
                                {{ summarycarts[i][0].showtime_show_date }},
                                {{ summarycarts[i][0].showtime_show_time }} ({{
                                  summarycarts[i][0].showing_duration_hours
                                }}
                                jam
                                {{
                                  summarycarts[i][0].showing_duration_minutes
                                }}
                                minit)</span
                              >
                            </h5>
                            <p
                              class="text-dark m-0"
                              *ngFor="let summary of summarycarts[i]"
                            >
                              <span *ngIf="translate.currentLang == 'en'"
                                >{{ summary.ticket_seat }}
                                {{ summary.ticket_category_en }} RM
                                {{
                                  summary.total_price | number: "1.2-2"
                                }}</span
                              >
                              <span *ngIf="translate.currentLang == 'ms'"
                                >{{ summary.ticket_seat }}
                                {{ summary.ticket_category_ms }} RM
                                {{
                                  summary.total_price | number: "1.2-2"
                                }}</span
                              >
                            </p>
                          </div>
                        </div>
                        <div
                          *ngIf="summarycarts[i][0].type == 'simulator-ride'"
                        >
                          <h5
                            *ngIf="summarycarts[i][0].type == 'simulator-ride'"
                            class="title text-dark mt-0 mb-3"
                          >
                            <span *ngIf="translate.currentLang == 'en'"
                              >{{ summarycarts[i][0].simulator_ride_day_en }},
                              {{ summarycarts[i][0].simulator_ride_time }} ({{
                                summarycarts[i][0].simulator_ride_round_en
                              }})</span
                            >
                            <span *ngIf="translate.currentLang == 'ms'"
                              >{{ summarycarts[i][0].simulator_ride_day_ms }},
                              {{ summarycarts[i][0].simulator_ride_time }} ({{
                                summarycarts[i][0].simulator_ride_round_ms
                              }})</span
                            >
                          </h5>
                          <p
                            class="text-dark m-0"
                            *ngFor="let summary of summarycarts[i]"
                          >
                            <span *ngIf="translate.currentLang == 'en'"
                              >{{ summary.ticket_seat }}
                              {{ summary.ticket_category_en }} RM
                              {{ summary.total_price | number: "1.2-2" }}</span
                            >
                            <span *ngIf="translate.currentLang == 'ms'"
                              >{{ summary.ticket_seat }}
                              {{ summary.ticket_category_ms }} RM
                              {{ summary.total_price | number: "1.2-2" }}</span
                            >
                          </p>
                        </div>
                      </td>
                      <td class="text-center">
                        <!-- Booking Quantity -->
                        <h4 class="title text-dark m-0">
                          {{ summarycarts[i].length }}
                        </h4>
                      </td>
                      <td class="text-center">
                        <!-- Booking Price -->
                        <h4 class="title text-default m-0">
                          {{ calculatoPriceEachCart(summarycarts[i]) }}
                        </h4>
                      </td>
                      <td class="text-center">
                        <!-- Delete Button -->
                        <button
                          type="button"
                          class="btn btn-danger btn-sm"
                          (click)="clickDeleteCart(cart)"
                        >
                          {{ "Padam" | translate }}
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <hr class="line-info mb-3" style="border-top: 3px solid;" />

              <div class="row mb-3">
                <div class="col-9 text-right">
                  <h4 class="title text-dark m-0">
                    {{ "Jumlah" | translate }}
                  </h4>
                  <h2 class="font-weight-bold text-default m-0">
                    RM {{ totalprice | number: "1.2-2" }}
                  </h2>
                </div>
                <div class="col text-right">
                  <button
                    type="button"
                    class="btn btn-default"
                    (click)="clickMakePayment()"
                  >
                    {{ "BuatBayaran" | translate }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
